<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="pageTitle">Indie Game Developer Portfolio</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom CSS variables for theme */
        :root {
            --bg-color-light: #f0f0f0; /* Lighter grey for a clean look */
            --text-color-light: #222222; /* Darker text for contrast */
            --secondary-text-color-light: #555555;
            --accent-color-light: #007aff; /* Apple-like blue */
            --card-bg-light: #ffffff;
            --border-color-light: #e8e8e8;
            --nav-bg-light: rgba(255, 255, 255, 0.9); /* Semi-transparent white for light nav */
            --nav-shadow-light: rgba(0, 0, 0, 0.08); /* Softer shadow */
            --slider-bg-light: #d1d5db; /* Gray-300 */
            --slider-thumb-bg-light: #ffffff;
        }

        html.dark {
            --bg-color-dark: #0a0a0a; /* Deeper, richer black */
            --text-color-dark: #f0f0f0; /* Lighter text for dark theme */
            --secondary-text-color-dark: #b0b0b0;
            --accent-color-dark: #8a8aff; /* Slightly softer purple/blue for dark theme */
            --card-bg-dark: #1c1c1c; /* Darker card background */
            --border-color-dark: #2c2c2c;
            --nav-bg-dark: rgba(10, 10, 10, 0.9); /* Semi-transparent dark for dark nav */
            --nav-shadow-dark: rgba(0, 0, 0, 0.3); /* More pronounced shadow */
            --slider-bg-dark: #4b5563; /* Gray-700 */
            --slider-thumb-bg-dark: #1f2937; /* Gray-800 */
        }

        /* Apply theme colors */
        .light {
            background-color: var(--bg-color-light);
            color: var(--text-color-light);
        }

        .dark {
            background-color: var(--bg-color-dark);
            color: var(--text-color-dark);
        }

        /* Specific element styling for theme */
        .light .bg-card {
            background-color: var(--card-bg-light);
            border-color: var(--border-color-light);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Enhanced shadow for light cards */
        }

        .dark .bg-card {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4); /* Enhanced shadow for dark cards */
        }

        .light .text-accent {
            color: var(--accent-color-light);
        }

        .dark .text-accent {
            color: var(--accent-color-dark);
        }

        .light .nav-bg {
            background-color: var(--nav-bg-light);
            box-shadow: 0 2px 10px var(--nav-shadow-light);
        }

        .dark .nav-bg {
            background-color: var(--nav-bg-dark);
            box-shadow: 0 2px 10px var(--nav-shadow-dark);
        }

        /* Rainbow button styling */
        .rainbow-button {
            position: relative;
            z-index: 1;
            overflow: hidden;
            background: linear-gradient(90deg, #FF0000, #FF7F00, #FFFF00, #00FF00, #0000FF, #4B0082, #9400D3);
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
            border: none;
            cursor: pointer;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px; /* Fully rounded */
            font-weight: 600;
            color: white; /* Text color for the button */
            transition: transform 0.2s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* Shadow for button */
        }

        .rainbow-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .rainbow-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: inherit;
            filter: blur(8px); /* Subtle blur for the glow effect */
            z-index: -1;
            opacity: 0.6;
            transition: opacity 0.3s ease-in-out;
        }

        .rainbow-button:hover::before {
            opacity: 1;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* General styling */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
            scroll-behavior: smooth; /* Smooth scrolling for nav links */
        }

        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 2rem;
            font-size: 2.5rem; /* Slightly larger */
            font-weight: 900; /* Extra bold */
            text-align: center;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        .section-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -10px; /* Slightly lower */
            width: 70%; /* Wider underline */
            height: 5px; /* Thicker underline */
            background: linear-gradient(90deg, var(--accent-color-light), #FF00FF); /* Dynamic gradient */
            border-radius: 2.5px;
        }

        .dark .section-title::after {
            background: linear-gradient(90deg, var(--accent-color-dark), #00FFFF); /* Different gradient for dark theme */
        }

        /* Project Card Styling */
        .project-card, .skill-card { /* Added .skill-card for consistency */
            background-color: var(--card-bg-light);
            border: 1px solid var(--border-color-light);
            border-radius: 1rem; /* More rounded */
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); /* Softer, larger shadow */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .dark .project-card, .dark .skill-card {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4); /* More pronounced shadow */
        }

        .project-card:hover, .skill-card:hover {
            transform: translateY(-8px); /* More pronounced lift */
            box-shadow: 0 0 25px 5px rgba(var(--accent-color-light-rgb, 0, 122, 255), 0.4); /* Neon glow */
        }

        .dark .project-card:hover, .dark .skill-card:hover {
            box-shadow: 0 0 30px 8px rgba(var(--accent-color-dark-rgb, 138, 138, 255), 0.5); /* Stronger neon glow */
        }

        .project-card img {
            width: 100%;
            height: 220px; /* Slightly taller */
            object-fit: cover;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .section-title {
                font-size: 2rem; /* text-3xl for smaller screens */
            }
            .grid-cols-3 {
                grid-template-columns: 1fr; /* Stack columns on small screens */
            }
            .md\:grid-cols-2 {
                grid-template-columns: 1fr;
            }
            .nav-links {
                display: none; /* Hide nav links on small screens, could add a hamburger menu if requested */
            }
            .hero-content {
                flex-direction: column;
            }
            .hero-content img {
                margin-bottom: 2rem;
            }
        }

        /* Language Modal Styling */
        .language-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Darker overlay */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .language-modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .language-modal-content {
            background-color: var(--card-bg-light);
            color: var(--text-color-light);
            padding: 3rem; /* More padding */
            border-radius: 1.5rem; /* More rounded */
            text-align: center;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4); /* Stronger shadow */
            max-width: 450px; /* Slightly wider */
            width: 90%;
            transform: translateY(-30px); /* More pronounced entry animation */
            transition: transform 0.3s ease;
        }

        .language-modal-overlay.show .language-modal-content {
            transform: translateY(0);
        }

        .dark .language-modal-content {
            background-color: var(--card-bg-dark);
            color: var(--text-color-dark);
        }

        .language-modal-content button {
            padding: 0.9rem 2rem; /* Larger buttons */
            border-radius: 0.75rem; /* More rounded */
            font-weight: 700; /* Bolder text */
            margin: 0 0.75rem; /* More spacing */
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .language-modal-content button.btn-primary {
            background-color: var(--accent-color-light);
            color: white;
        }

        .dark .language-modal-content button.btn-primary {
            background-color: var(--accent-color-dark);
        }

        .language-modal-content button.btn-primary:hover {
            transform: translateY(-3px);
            opacity: 0.95;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Hide main content when detail view is active */
        .main-content.hidden {
            display: none;
        }

        /* Detail view styling */
        .detail-view {
            display: none; /* Hidden by default */
            padding: 2.5rem; /* More padding */
            margin-top: 2rem;
            background-color: var(--card-bg-light);
            border-radius: 1rem;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--border-color-light);
        }
        .dark .detail-view {
            background-color: var(--card-bg-dark);
            border-color: var(--border-color-dark);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
        }

        .detail-view.show {
            display: block;
        }

        /* Theme Transition Overlay Styling */
        #theme-transition-overlay {
            position: fixed;
            width: 0;
            height: 0;
            border-radius: 50%;
            z-index: 999; /* Above content, below modal */
            opacity: 0;
            pointer-events: none; /* Allows clicks to pass through when not active */
            transition: width 0.5s ease-out, height 0.5s ease-out, opacity 0.5s ease-out;
            transform: translate(-50%, -50%); /* Centers the circle around its top/left point */
        }

        #theme-transition-overlay.animate-transition {
            width: 300vw; /* Expands to cover wide screens */
            height: 300vw; /* Expands to cover tall screens */
            opacity: 1;
        }

        /* Profile picture animation */
        .profile-picture {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .profile-picture:hover {
            transform: scale(1.05);
            /* Using the CSS variables for RGB values directly */
            box-shadow: 0 0 0 8px rgba(var(--accent-color-light-rgb), 0.3); /* Accent glow */
        }
        html.dark .profile-picture:hover {
            box-shadow: 0 0 0 8px rgba(var(--accent-color-dark-rgb), 0.3);
        }

        /* Custom Theme Toggle Slider */
        #theme-toggle-slider {
            width: 80px; /* Wider slider */
            height: 40px; /* Taller slider */
            background-color: var(--slider-bg-light);
            border-radius: 9999px; /* Fully rounded */
            position: relative;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            padding: 4px; /* Padding for the thumb */
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2); /* Inner shadow for depth */
        }

        html.dark #theme-toggle-slider {
            background-color: var(--slider-bg-dark);
        }

        #theme-toggle-slider .thumb {
            width: 32px; /* Size of the thumb */
            height: 32px;
            background-color: var(--slider-thumb-bg-light);
            border-radius: 50%;
            position: absolute;
            display: flex; /* Use flexbox for centering icons */
            align-items: center; /* Center vertically */
            justify-content: center; /* Center horizontally */
            transition: transform 0.3s ease-in-out, background-color 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Thumb shadow */
        }

        html.dark #theme-toggle-slider .thumb {
            background-color: var(--slider-thumb-bg-dark);
            transform: translateX(40px); /* Move to the right for dark mode */
        }

        #theme-toggle-slider .thumb i {
            font-size: 1.25rem; /* Icon size */
            color: var(--text-color-light); /* Icon color */
            transition: opacity 0.3s ease;
            position: absolute; /* Absolute position for precise centering */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Centering trick */
            width: 100%; /* Ensure icon takes full width of thumb for centering */
            height: 100%; /* Ensure icon takes full height of thumb for centering */
            display: flex; /* Use flexbox for centering within icon itself if needed */
            align-items: center;
            justify-content: center;
        }

        html.dark #theme-toggle-slider .thumb i {
            color: var(--text-color-dark);
        }

        #theme-toggle-slider .fa-sun {
            opacity: 1;
        }
        html.dark #theme-toggle-slider .fa-sun {
            opacity: 0;
        }

        #theme-toggle-slider .fa-moon {
            opacity: 0;
        }
        html.dark #theme-toggle-slider .fa-moon {
            opacity: 1;
        }

        /* Neon glow for nav links and buttons on hover */
        .nav-links a:hover, .btn-primary:hover {
            box-shadow: 0 0 15px 3px rgba(var(--accent-color-light-rgb), 0.5);
        }
        html.dark .nav-links a:hover, html.dark .btn-primary:hover {
            box-shadow: 0 0 20px 5px rgba(var(--accent-color-dark-rgb), 0.6);
        }

        /* Active Nav Link Styling */
        .nav-links .active-nav-link {
            color: var(--accent-color-light);
            position: relative;
        }

        .dark .nav-links .active-nav-link {
            color: var(--accent-color-dark);
        }

        .nav-links .active-nav-link::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -5px;
            transform: translateX(-50%);
            width: 80%;
            height: 3px;
            background-color: var(--accent-color-light);
            border-radius: 2px;
            transition: width 0.3s ease-in-out;
        }
        .dark .nav-links .active-nav-link::after {
            background-color: var(--accent-color-dark);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center pb-10 transition-colors duration-300">
    <!-- Theme Transition Overlay -->
    <div id="theme-transition-overlay"></div>

    <!-- Language Selection Modal -->
    <div id="language-modal" class="language-modal-overlay">
        <div class="language-modal-content">
            <h3 class="text-2xl font-bold mb-6" data-lang-key="selectLanguageTitle">Select Your Language</h3>
            <div class="flex justify-center gap-4">
                <button class="btn-primary" data-lang="en">English</button>
                <button class="btn-primary" data-lang="th">ไทย</button>
            </div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="nav-bg fixed top-0 left-0 w-full z-50 py-4 px-4 md:px-8 flex justify-between items-center backdrop-blur-sm">
        <h1 class="text-3xl font-extrabold text-accent">IndieDev.</h1>
        <div class="nav-links flex items-center space-x-6">
            <a href="#about" class="text-lg font-medium hover:text-accent transition-colors duration-200" data-lang-key="navAbout">About</a>
            <a href="#skills" class="text-lg font-medium hover:text-accent transition-colors duration-200" data-lang-key="navSkills">Skills</a>
            <a href="#portfolio" class="text-lg font-medium hover:text-accent transition-colors duration-200" data-lang-key="navPortfolio">Portfolio</a>
            <a href="#contact" class="text-lg font-medium hover:text-accent transition-colors duration-200" data-lang-key="navContact">Contact</a>
            <!-- Theme Toggle Slider -->
            <div id="theme-toggle-slider">
                <div class="thumb">
                    <i class="fas fa-sun"></i>
                    <i class="fas fa-moon"></i>
                </div>
            </div>
        </div>
    </nav>

    <main id="main-content" class="w-full max-w-4xl space-y-24 mt-28 px-4">
        <!-- Hero Section -->
        <section id="hero" class="text-center py-16 flex flex-col md:flex-row items-center justify-center gap-8 rounded-xl bg-card">
            <div class="hero-content flex flex-col md:flex-row items-center justify-between gap-8">
                <img src="https://placehold.co/150x150/000000/FFFFFF?text=Profile" alt="Profile Picture" class="profile-picture w-36 h-36 rounded-full object-cover border-4 border-accent shadow-lg flex-shrink-0">
                <div class="ml-auto">
                    <h2 class="text-5xl font-extrabold mb-4 leading-tight" data-lang-key="heroTitle">Hello! I'm an <span class="text-accent">Indie Game Developer</span></h2>
                    <p class="text-xl text-secondary-text-color max-w-2xl mx-auto" data-lang-key="heroSubtitle">
                        Creating worlds and stories through games. With a passion for coding and design, I'm dedicated to building unique gaming experiences.
                    </p>
                    <div class="mt-8">
                        <a href="#portfolio" class="rainbow-button inline-flex items-center">
                            <i class="fas fa-gamepad mr-2"></i>
                            <span data-lang-key="viewMyWork">View My Work</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="py-8">
            <h3 class="section-title" data-lang-key="aboutTitle">About Me</h3>
            <div class="mt-8 text-lg text-secondary-text-color leading-relaxed bg-card p-8 rounded-xl">
                <p class="mb-4" data-lang-key="aboutParagraph1">
                    I am an indie game developer who loves to create and bring new ideas into the world of games. I started this journey with an interest in every step of development, from concept design, coding, graphic creation, to testing and refining games.
                </p>
                <p data-lang-key="aboutParagraph2">
                    My goal is to create memorable gaming experiences for players, whether it's challenging games, deep storytelling games, or endlessly fun games.
                </p>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-8">
            <h3 class="section-title" data-lang-key="skillsTitle">Skills & Platforms</h3>
            <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-8">
                <!-- Skill Card Example -->
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fab fa-unity text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="unityTitle">Unity Engine</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="unityDesc">Develop 2D/3D games</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fab fa-steam text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="steamTitle">Steam Development</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="steamDesc">Publish PC games</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fab fa-apple text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="appStoreTitle">App Store</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="appStoreDesc">iOS mobile games</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fab fa-android text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="playStoreTitle">Google Play Store</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="playStoreDesc">Android mobile games</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fas fa-cube text-5xl text-accent mb-4"></i> <!-- Using a cube icon for Roblox Studio -->
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="robloxTitle">Roblox Studio</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="robloxDesc">Build games on Roblox</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fas fa-code text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="csharpTitle">C# Programming</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="csharpDesc">Main language for Unity</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fas fa-paint-brush text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="artDesignTitle">Game Art & Design</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="artDesignDesc">Graphic and UI design</p>
                </div>
                <div class="skill-card p-6 rounded-xl flex flex-col items-center text-center transition-transform duration-200 hover:scale-105">
                    <i class="fas fa-bug text-5xl text-accent mb-4"></i>
                    <h4 class="text-xl font-semibold text-accent" data-lang-key="debugOptimizeTitle">Debugging & Optimization</h4>
                    <p class="text-secondary-text-color text-sm" data-lang-key="debugOptimizeDesc">Fix errors and improve performance</p>
                </div>
            </div>
        </section>

        <!-- Portfolio Section -->
        <section id="portfolio" class="py-8">
            <h3 class="section-title" data-lang-key="portfolioTitle">My Work</h3>
            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Project Card 1 -->
                <div class="project-card">
                    <img src="https://placehold.co/600x400/333333/FFFFFF?text=Game+Project+1" alt="Game Project 1 Thumbnail">
                    <div class="p-6 flex-grow">
                        <h4 class="text-2xl font-semibold mb-2 text-accent" data-lang-key="gameName1">Game Name: [Game Name 1]</h4>
                        <p class="text-secondary-text-color mb-4 text-base" data-lang-key="gameDesc1">
                            A brief description of this game, its platforms, and highlights. E.g., a [Genre] game focusing on [Key Feature], developed with [Engine] and published on [Platform].
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-200 dark:bg-blue-700 text-blue-800 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Unity</span>
                            <span class="bg-green-200 dark:bg-green-700 text-green-800 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">PC</span>
                            <span class="bg-purple-200 dark:bg-purple-700 text-purple-800 dark:text-purple-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Adventure</span>
                        </div>
                        <a href="#" class="text-accent hover:underline font-medium view-details-btn" data-game-id="game1" data-lang-key="viewDetails"><i class="fas fa-arrow-right ml-1"></i>View Details</a>
                    </div>
                </div>

                <!-- Project Card 2 -->
                <div class="project-card">
                    <img src="https://placehold.co/600x400/555555/FFFFFF?text=Game+Project+2" alt="Game Project 2 Thumbnail">
                    <div class="p-6 flex-grow">
                        <h4 class="text-2xl font-semibold mb-2 text-accent" data-lang-key="gameName2">Game Name: [Game Name 2]</h4>
                        <p class="text-secondary-text-color mb-4 text-base" data-lang-key="gameDesc2">
                            A brief description of this game, its platforms, and highlights. E.g., a [Genre] game focusing on [Key Feature], developed with [Engine] and published on [Platform].
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-yellow-200 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Roblox Studio</span>
                            <span class="bg-red-200 dark:bg-red-700 text-red-800 dark:text-red-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Mobile</span>
                            <span class="bg-indigo-200 dark:bg-indigo-700 text-indigo-800 dark:text-indigo-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Simulation</span>
                        </div>
                        <a href="#" class="text-accent hover:underline font-medium view-details-btn" data-game-id="game2" data-lang-key="viewDetails"><i class="fas fa-arrow-right ml-1"></i>View Details</a>
                    </div>
                </div>

                <!-- Add more project cards as needed -->
                <div class="project-card">
                    <img src="https://placehold.co/600x400/777777/FFFFFF?text=Game+Project+3" alt="Game Project 3 Thumbnail">
                    <div class="p-6 flex-grow">
                        <h4 class="text-2xl font-semibold mb-2 text-accent" data-lang-key="gameName3">Game Name: [Game Name 3]</h4>
                        <p class="text-secondary-text-color mb-4 text-base" data-lang-key="gameDesc3">
                            A brief description of this game, its platforms, and highlights. E.g., a [Genre] game focusing on [Key Feature], developed with [Engine] and published on [Platform].
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-pink-200 dark:bg-pink-700 text-pink-800 dark:text-pink-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Godot Engine</span>
                            <span class="bg-teal-200 dark:bg-teal-700 text-teal-800 dark:text-teal-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Web</span>
                            <span class="bg-orange-200 dark:bg-orange-700 text-orange-800 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Puzzle</span>
                        </div>
                        <a href="#" class="text-accent hover:underline font-medium view-details-btn" data-game-id="game3" data-lang-key="viewDetails"><i class="fas fa-arrow-right ml-1"></i>View Details</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-8 text-center">
            <h3 class="section-title" data-lang-key="contactTitle">Contact Me</h3>
            <div class="mt-8 bg-card p-8 rounded-xl">
                <p class="text-lg text-secondary-text-color mb-4" data-lang-key="contactText">
                    If you have suggestions, interesting projects, or would like to collaborate, feel free to contact me at:
                </p>
                <div class="text-xl font-medium">
                    <p class="mb-2" data-lang-key="emailLabel">Email: <a href="mailto:your.email@example.com" class="text-accent hover:underline">your.email@example.com</a></p>
                    <p data-lang-key="socialLabel">Social Media: <a href="#" class="text-accent hover:underline">@YourSocialHandle</a></p>
                </div>
                <div class="flex justify-center space-x-6 mt-6">
                    <a href="#" class="text-3xl text-secondary-text-color hover:text-accent transition-colors duration-200"><i class="fab fa-github"></i></a>
                    <a href="#" class="text-3xl text-secondary-text-color hover:text-accent transition-colors duration-200"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="text-3xl text-secondary-text-color hover:text-accent transition-colors duration-200"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </section>
    </main>

    <!-- Game Detail View -->
    <section id="game-detail-view" class="w-full max-w-4xl detail-view space-y-8 mt-28 px-4">
        <button id="back-to-portfolio" class="btn-primary px-4 py-2 rounded-lg flex items-center gap-2 mb-8">
            <i class="fas fa-arrow-left"></i> <span data-lang-key="backToPortfolio">Back to Portfolio</span>
        </button>

        <h2 id="detail-game-title" class="text-4xl font-extrabold text-accent mb-6"></h2>
        <img id="detail-game-image" src="" alt="Game Detail Image" class="w-full h-72 object-cover rounded-lg mb-6 shadow-md">

        <div class="bg-card p-8 rounded-xl">
            <h3 class="text-2xl font-semibold mb-4" data-lang-key="gameDetailsTitle">Game Details</h3>
            <p id="detail-game-full-desc" class="text-lg text-secondary-text-color leading-relaxed mb-6"></p>

            <h4 class="text-xl font-semibold mb-3" data-lang-key="gameSystemsTitle">Key Systems:</h4>
            <ul id="detail-game-systems" class="list-disc list-inside text-secondary-text-color mb-6 pl-4">
                <!-- Systems will be populated here by JS -->
            </ul>

            <h4 class="text-xl font-semibold mb-3" data-lang-key="developmentTimelineTitle">Development Timeline:</h4>
            <p id="detail-game-timeline" class="text-lg text-secondary-text-color"></p>
        </div>
    </section>

    <footer class="w-full max-w-4xl text-center py-8 mt-12 text-secondary-text-color text-sm">
        <p data-lang-key="footerText">&copy; 2023 IndieDev. All rights reserved.</p>
    </footer>

    <script>
        // Language content object
        const appContent = {
            en: {
                pageTitle: "Kunsub Anderson - Indie Game Developer",
                selectLanguageTitle: "Select Your Language",
                navAbout: "About",
                navSkills: "Skills",
                navPortfolio: "Certificates",
                navContact: "Contact",
                toggleTheme: "Toggle Theme",
                heroTitle: "Hello, I'm Kunsub Anderson",
                heroSubtitle: "Creating worlds and stories through games. With a passion for coding and design, I'm dedicated to building unique gaming experiences.",
                viewMyWork: "View My Work",
                aboutTitle: "About Me",
                aboutParagraph1: "I am an indie game developer who loves to create and bring new ideas into the world of games. I started this journey with an interest in every step of development, from concept design, coding, graphic creation, to testing and refining games.",
                aboutParagraph2: "My goal is to create memorable gaming experiences for players, whether it's challenging games, deep storytelling games, or endlessly fun games.",
                skillsTitle: "Skills & Platforms",
                unityTitle: "Unity Engine",
                unityDesc: "Develop 2D/3D games",
                steamTitle: "Steam Development",
                steamDesc: "Publish PC games",
                appStoreTitle: "App Store",
                appStoreDesc: "iOS mobile games",
                playStoreTitle: "Google Play Store",
                playStoreDesc: "Android mobile games",
                robloxTitle: "Roblox Studio",
                robloxDesc: "Build games on Roblox",
                csharpTitle: "C# Programming",
                csharpDesc: "Main language for Unity",
                artDesignTitle: "Game Art & Design",
                artDesignDesc: "Graphic and UI design",
                debugOptimizeTitle: "Debugging & Optimization",
                debugOptimizeDesc: "Fix errors and improve performance",
                portfolioTitle: "My Work",
                gameName1: "Game Name: [Game Name 1]",
                gameDesc1: "A brief description of this game, its platforms, and highlights. E.g., a [Genre] game focusing on [Key Feature], developed with [Engine] and published on [Platform].",
                gameName2: "Game Name: [Game Name 2]",
                gameDesc2: "A brief description of this game, its platforms, and highlights. E.g., a [Genre] game focusing on [Key Feature], developed with [Engine] and published on [Platform].",
                gameName3: "Game Name: [Game Name 3]",
                gameDesc3: "A brief description of this game, its platforms, and highlights. E.g., a [Genre] game focusing on [Key Feature], developed with [Engine] and published on [Platform].",
                viewDetails: "View Details",
                contactTitle: "Contact Me",
                contactText: "If you have suggestions, interesting projects, or would like to collaborate, feel free to contact me at:",
                emailLabel: "Email:",
                socialLabel: "Social Media:",
                footerText: "&copy; 2023 IndieDev. All rights reserved.",
                // Game Details Content
                gameDetailsTitle: "Game Details",
                gameSystemsTitle: "Key Systems:",
                developmentTimelineTitle: "Development Timeline:",
                backToPortfolio: "Back to Portfolio",
                game1Details: {
                    title: "Eternal Echoes: The Last Guardian",
                    image: "https://placehold.co/800x450/333333/FFFFFF?text=Eternal+Echoes",
                    description: "Eternal Echoes is a captivating 3D adventure game developed with Unity. Players embark on a journey through ancient ruins, solving puzzles and battling mythical creatures to uncover the secrets of a lost civilization. The game features a dynamic combat system, intricate environmental puzzles, and a rich, branching narrative.",
                    systems: [
                        "Dynamic Combat System (Melee & Ranged)",
                        "Puzzle-solving Mechanics (Lever-based, Rune-matching)",
                        "Inventory and Item Management",
                        "Skill Tree Progression",
                        "Interactive Dialogue System"
                    ],
                    timeline: "Concept & Pre-production: Jan-Mar 2022 | Alpha Development: Apr-Aug 2022 | Beta Testing: Sep-Oct 2022 | Polish & Release: Nov-Dec 2022"
                },
                game2Details: {
                    title: "Pixel Tycoon: City Builder",
                    image: "https://placehold.co/800x450/555555/FFFFFF?text=Pixel+Tycoon",
                    description: "Pixel Tycoon is a charming pixel-art city-building simulation game created using Roblox Studio. Players design and manage their own bustling cities, from laying down roads and buildings to managing resources and citizen happiness. The game emphasizes strategic planning and creative freedom, with a focus on community interaction.",
                    systems: [
                        "Building Placement & Upgrades",
                        "Resource Management (Electricity, Water, Food)",
                        "Citizen Happiness & Needs System",
                        "Economy & Taxation System",
                        "Multiplayer & Social Features"
                    ],
                    timeline: "Initial Concept: Feb 2023 | Core Mechanics Dev: Mar-May 2023 | Public Alpha: Jun-Jul 2023 | Feature Expansion: Aug-Oct 2023 | Ongoing Updates"
                },
                game3Details: {
                    title: "Cosmic Connect: A Puzzle Journey",
                    image: "https://placehold.co/800x450/777777/FFFFFF?text=Cosmic+Connect",
                    description: "Cosmic Connect is an innovative web-based puzzle game developed with Godot Engine, designed for mobile and desktop browsers. Players connect celestial bodies to form constellations, overcoming obstacles and using unique cosmic powers. Each level introduces new mechanics, challenging players' logic and spatial reasoning.",
                    systems: [
                        "Node-based Connection Puzzles",
                        "Gravity & Physics Simulation",
                        "Power-up & Obstacle Mechanics",
                        "Level Editor (internal tool)",
                        "Score Tracking & Leaderboards"
                    ],
                    timeline: "Concept & Prototype: Apr-May 2023 | Core Development: Jun-Aug 2023 | Web Release: Sep 2023 | Mobile Optimization: Oct 2023"
                }
            },
            th: {
                pageTitle: "เว็บไซต์แนะนำตัวนักพัฒนาเกมอินดี้",
                selectLanguageTitle: "เลือกภาษาของคุณ",
                navAbout: "เกี่ยวกับผม",
                navSkills: "ทักษะ",
                navPortfolio: "ผลงาน",
                navContact: "ติดต่อ",
                toggleTheme: "สลับธีม",
                heroTitle: "สวัสดีครับ! ผมคือ <span class='text-accent'>นักพัฒนาเกมอินดี้</span>",
                heroSubtitle: "ผู้สร้างสรรค์โลกและเรื่องราวผ่านเกม ด้วยความหลงใหลในการเขียนโค้ดและการออกแบบ ผมทุ่มเทให้กับการสร้างประสบการณ์การเล่นเกมที่ไม่เหมือนใคร",
                viewMyWork: "ดูผลงานของฉัน",
                aboutTitle: "เกี่ยวกับผม",
                aboutParagraph1: "ผมเป็นนักพัฒนาเกมอินดี้ที่รักในการสร้างสรรค์และนำเสนอไอเดียใหม่ๆ สู่โลกของเกม ผมเริ่มต้นเส้นทางนี้ด้วยความสนใจในทุกขั้นตอนของการพัฒนา ตั้งแต่การออกแบบแนวคิด การเขียนโค้ด การสร้างกราฟิก ไปจนถึงการทดสอบและปรับปรุงเกม",
                aboutParagraph2: "เป้าหมายของผมคือการสร้างเกมที่ผู้เล่นจะได้รับประสบการณ์ที่น่าจดจำ ไม่ว่าจะเป็นเกมที่ท้าทาย เกมที่เล่าเรื่องราวลึกซึ้ง หรือเกมที่มอบความสนุกสนานแบบไม่รู้จบ",
                skillsTitle: "ทักษะและแพลตฟอร์ม",
                unityTitle: "Unity Engine",
                unityDesc: "พัฒนาเกม 2D/3D",
                steamTitle: "Steam Development",
                steamDesc: "เผยแพร่เกม PC",
                appStoreTitle: "App Store",
                appStoreDesc: "เกมมือถือ iOS",
                playStoreTitle: "Google Play Store",
                playStoreDesc: "เกมมือถือ Android",
                robloxTitle: "Roblox Studio",
                robloxDesc: "สร้างเกมบน Roblox",
                csharpTitle: "C# Programming",
                csharpDesc: "ภาษาหลักสำหรับ Unity",
                artDesignTitle: "Game Art & Design",
                artDesignDesc: "ออกแบบกราฟิกและ UI",
                debugOptimizeTitle: "Debugging & Optimization",
                debugOptimizeDesc: "แก้ไขข้อผิดพลาดและปรับปรุงประสิทธิภาพ",
                portfolioTitle: "ผลงานของผม",
                gameName1: "ชื่อเกม: [ชื่อเกม 1]",
                gameDesc1: "คำอธิบายสั้นๆ เกี่ยวกับเกมนี้ แพลตฟอร์มที่เผยแพร่ และจุดเด่น เช่น เกมแนว [Genre] ที่เน้น [Key Feature] พัฒนาด้วย [Engine] และเผยแพร่บน [Platform].",
                gameName2: "ชื่อเกม: [ชื่อเกม 2]",
                gameDesc2: "คำอธิบายสั้นๆ เกี่ยวกับเกมนี้ แพลตฟอร์มที่เผยแพร่ และจุดเด่น เช่น เกมแนว [Genre] ที่เน้น [Key Feature] พัฒนาด้วย [Engine] และเผยแพร่บน [Platform].",
                gameName3: "ชื่อเกม: [ชื่อเกม 3]",
                gameDesc3: "คำอธิบายสั้นๆ เกี่ยวกับเกมนี้ แพลตฟอร์มที่เผยแพร่ และจุดเด่น เช่น เกมแนว [Genre] ที่เน้น [Key Feature] พัฒนาด้วย [Engine] และเผยแพร่บน [Platform].",
                viewDetails: "ดูรายละเอียดเพิ่มเติม",
                contactTitle: "ติดต่อผม",
                contactText: "หากคุณมีข้อเสนอแนะ โปรเจกต์ที่น่าสนใจ หรือต้องการร่วมงานกัน สามารถติดต่อผมได้ที่:",
                emailLabel: "อีเมล:",
                socialLabel: "โซเชียลมีเดีย:",
                footerText: "&copy; 2023 IndieDev. สงวนลิขสิทธิ์",
                // Game Details Content (Thai)
                gameDetailsTitle: "รายละเอียดเกม",
                gameSystemsTitle: "ระบบหลัก:",
                developmentTimelineTitle: "ไทม์ไลน์การพัฒนา:",
                backToPortfolio: "กลับสู่ผลงาน",
                game1Details: {
                    title: "Eternal Echoes: ผู้พิทักษ์คนสุดท้าย",
                    image: "https://placehold.co/800x450/333333/FFFFFF?text=Eternal+Echoes",
                    description: "Eternal Echoes เป็นเกมผจญภัย 3 มิติที่น่าหลงใหล พัฒนาด้วย Unity ผู้เล่นจะได้ออกเดินทางผ่านซากปรักหักพังโบราณ ไขปริศนาและต่อสู้กับสิ่งมีชีวิตในตำนานเพื่อเปิดเผยความลับของอารยธรรมที่สาบสูญ เกมนี้มีระบบการต่อสู้ที่หลากหลาย ปริศนาสิ่งแวดล้อมที่ซับซ้อน และเนื้อเรื่องที่เข้มข้นพร้อมทางเลือกที่แตกต่างกัน",
                    systems: [
                        "ระบบการต่อสู้แบบไดนามิก (ประชิดและระยะไกล)",
                        "กลไกการไขปริศนา (แบบคันโยก, จับคู่รูน)",
                        "ระบบจัดการสินค้าคงคลังและไอเท็ม",
                        "ความก้าวหน้าของผังทักษะ",
                        "ระบบบทสนทนาแบบโต้ตอบ"
                    ],
                    timeline: "แนวคิดและการผลิตล่วงหน้า: ม.ค.-มี.ค. 2565 | การพัฒนา Alpha: เม.ย.-ส.ค. 2565 | การทดสอบ Beta: ก.ย.-ต.ค. 2565 | ขัดเกลาและเผยแพร่: พ.ย.-ธ.ค. 2565"
                },
                game2Details: {
                    title: "Pixel Tycoon: ผู้สร้างเมือง",
                    image: "https://placehold.co/800x450/555555/FFFFFF?text=Pixel+Tycoon",
                    description: "Pixel Tycoon เป็นเกมจำลองการสร้างเมืองสไตล์พิกเซลอาร์ตที่น่ารัก สร้างขึ้นโดยใช้ Roblox Studio ผู้เล่นออกแบบและจัดการเมืองที่คึกคักของตนเอง ตั้งแต่การวางถนนและอาคาร ไปจนถึงการจัดการทรัพยากรและความสุขของพลเมือง เกมนี้เน้นการวางแผนเชิงกลยุทธ์และอิสระในการสร้างสรรค์ โดยมุ่งเน้นไปที่การปฏิสัมพันธ์กับชุมชน",
                    systems: [
                        "การวางอาคารและการอัปเกรด",
                        "การจัดการทรัพยากร (ไฟฟ้า, น้ำ, อาหาร)",
                        "ระบบความสุขและความต้องการของพลเมือง",
                        "ระบบเศรษฐกิจและภาษี",
                        "คุณสมบัติผู้เล่นหลายคนและโซเชียล"
                    ],
                    timeline: "แนวคิดเริ่มต้น: ก.พ. 2566 | การพัฒนา Core Mechanics: มี.ค.-พ.ค. 2566 | Alpha สาธารณะ: มิ.ย.-ก.ค. 2566 | การขยายคุณสมบัติ: ส.ค.-ต.ค. 2566 | การอัปเดตต่อเนื่อง"
                },
                game3Details: {
                    title: "Cosmic Connect: การเดินทางไขปริศนา",
                    image: "https://placehold.co/800x450/777777/FFFFFF?text=Cosmic+Connect",
                    description: "Cosmic Connect เป็นเกมไขปริศนาบนเว็บที่เป็นนวัตกรรมใหม่ พัฒนาด้วย Godot Engine ออกแบบมาสำหรับเบราว์เซอร์บนมือถือและเดสก์ท็อป ผู้เล่นเชื่อมต่อวัตถุบนท้องฟ้าเพื่อสร้างกลุ่มดาว เอาชนะอุปสรรคและใช้พลังจักรวาลที่ไม่เหมือนใคร แต่ละระดับจะนำเสนอกลไกใหม่ๆ ท้าทายตรรกะและการใช้เหตุผลเชิงพื้นที่ของผู้เล่น",
                    systems: [
                        "ปริศนาการเชื่อมต่อแบบ Node-based",
                        "การจำลองแรงโน้มถ่วงและฟิสิกส์",
                        "กลไก Power-up และอุปสรรค",
                        "โปรแกรมแก้ไขระดับ (เครื่องมือภายใน)",
                        "การติดตามคะแนนและกระดานผู้นำ"
                    ],
                    timeline: "แนวคิดและต้นแบบ: เม.ย.-พ.ค. 2566 | การพัฒนาหลัก: มิ.ย.-ส.ค. 2566 | เผยแพร่บนเว็บ: ก.ย. 2566 | การเพิ่มประสิทธิภาพสำหรับมือถือ: ต.ค. 2566"
                }
            }
        };

        const themeToggleSlider = document.getElementById('theme-toggle-slider');
        const themeToggleThumb = themeToggleSlider.querySelector('.thumb');
        const htmlElement = document.documentElement;
        const sunIcon = themeToggleThumb.querySelector('.fa-sun');
        const moonIcon = themeToggleThumb.querySelector('.fa-moon');
        const languageModal = document.getElementById('language-modal');
        const languageButtons = languageModal.querySelectorAll('.language-modal-content button');

        const mainContent = document.getElementById('main-content');
        const gameDetailView = document.getElementById('game-detail-view');
        const backToPortfolioBtn = document.getElementById('back-to-portfolio');
        const detailGameTitle = document.getElementById('detail-game-title');
        const detailGameImage = document.getElementById('detail-game-image');
        const detailGameFullDesc = document.getElementById('detail-game-full-desc');
        const detailGameSystems = document.getElementById('detail-game-systems');
        const detailGameTimeline = document.getElementById('detail-game-timeline');
        const themeTransitionOverlay = document.getElementById('theme-transition-overlay');
        const navLinks = document.querySelectorAll('.nav-links a[href^="#"]'); // Select all nav links

        let currentLanguage = 'en'; // Default language

        // Function to set theme with circular transition
        function setTheme(targetTheme, event = null) {
            const rootStyles = getComputedStyle(document.documentElement);

            // Get RGB values for accent colors to use in dynamic glow
            // Added fallback to empty array if match returns null to prevent TypeError
            const accentLightRgb = (rootStyles.getPropertyValue('--accent-color-light').match(/\d+/g) || []).join(',');
            const accentDarkRgb = (rootStyles.getPropertyValue('--accent-color-dark').match(/\d+/g) || []).join(',');
            document.documentElement.style.setProperty('--accent-color-light-rgb', accentLightRgb);
            document.documentElement.style.setProperty('--accent-color-dark-rgb', accentDarkRgb);


            // Determine the background color for the overlay based on the target theme
            const overlayBgColor = targetTheme === 'dark' ? rootStyles.getPropertyValue('--bg-color-dark') : rootStyles.getPropertyValue('--bg-color-light');
            themeTransitionOverlay.style.backgroundColor = overlayBgColor;

            // Position the overlay at the click event, or center if no event
            if (event) {
                themeTransitionOverlay.style.left = `${event.clientX}px`;
                themeTransitionOverlay.style.top = `${event.clientY}px`;
            } else {
                // For initial load, use the center of the theme toggle slider
                const sliderRect = themeToggleSlider.getBoundingClientRect();
                themeTransitionOverlay.style.left = `${sliderRect.left + sliderRect.width / 2}px`;
                themeTransitionOverlay.style.top = `${sliderRect.top + sliderRect.height / 2}px`;
            }

            // Ensure it's hidden and small before starting animation
            themeTransitionOverlay.style.width = '0';
            themeTransitionOverlay.style.height = '0';
            themeTransitionOverlay.style.opacity = '0';
            themeTransitionOverlay.classList.remove('animate-transition'); // Remove class to reset transition properties

            // Force reflow to ensure properties are reset before adding class
            void themeTransitionOverlay.offsetWidth;

            // Trigger the expansion animation
            themeTransitionOverlay.classList.add('animate-transition');

            // Wait for the animation to complete before actually changing the theme
            setTimeout(() => {
                htmlElement.classList.remove('light', 'dark');
                htmlElement.classList.add(targetTheme);
                localStorage.setItem('theme', targetTheme);

                // Immediately hide and reset the overlay after the theme has changed
                // This makes it ready for the next transition without being visible
                themeTransitionOverlay.classList.remove('animate-transition');
                themeTransitionOverlay.style.width = '0';
                themeTransitionOverlay.style.height = '0';
                themeTransitionOverlay.style.opacity = '0';
                // Reset position to center for next click (if no event is passed)
                themeTransitionOverlay.style.left = '50%';
                themeTransitionOverlay.style.top = '50%';

            }, 500); // Match this duration with the CSS transition duration
        }

        // Function to apply language to elements
        function applyLanguage(lang) {
            currentLanguage = lang; // Update current language
            htmlElement.lang = lang; // Set lang attribute on <html>
            const content = appContent[lang];

            if (!content) { // Add this check for robustness
                console.error("Language content not found for:", lang);
                // Fallback to default language if the requested language content is missing
                currentLanguage = 'en'; // Default to English
                htmlElement.lang = 'en';
                const defaultContent = appContent['en'];
                document.querySelector('title').textContent = defaultContent.pageTitle;
                document.querySelectorAll('[data-lang-key]').forEach(element => {
                    const key = element.getAttribute('data-lang-key');
                    if (defaultContent[key]) {
                        if (key === 'heroTitle') {
                            element.innerHTML = defaultContent[key];
                        } else {
                            element.textContent = defaultContent[key];
                        }
                    }
                });
                document.querySelectorAll('a[data-lang-key="viewDetails"]').forEach(link => {
                    link.innerHTML = `${defaultContent.viewDetails} <i class="fas fa-arrow-right ml-1"></i>`;
                });
                backToPortfolioBtn.innerHTML = `<i class="fas fa-arrow-left"></i> ${defaultContent.backToPortfolio}`;
                return;
            }


            // Update title
            document.querySelector('title').textContent = content.pageTitle;

            // Update elements with data-lang-key
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (content[key]) {
                    // Special handling for heroTitle which contains HTML span
                    if (key === 'heroTitle') {
                        element.innerHTML = content[key];
                    } else {
                        element.textContent = content[key];
                    }
                }
            });

            // Update "View Details" links (they have an icon, so use innerHTML)
            document.querySelectorAll('a[data-lang-key="viewDetails"]').forEach(link => {
                link.innerHTML = `${content.viewDetails} <i class="fas fa-arrow-right ml-1"></i>`;
            });

            // Update "Back to Portfolio" button
            backToPortfolioBtn.innerHTML = `<i class="fas fa-arrow-left"></i> ${content.backToPortfolio}`;

            // Hide the language modal
            languageModal.classList.remove('show');

            // If a game detail is currently shown, re-apply its language
            if (gameDetailView.classList.contains('show')) {
                const gameId = gameDetailView.dataset.gameId;
                if (gameId) {
                    showGameDetails(gameId); // Re-render details with new language
                }
            }
        }

        // Function to show game details
        function showGameDetails(gameId) {
            const gameData = appContent[currentLanguage][`${gameId}Details`];
            if (!gameData) {
                console.error("Game data not found for ID:", gameId);
                return;
            }

            // Populate detail view
            detailGameTitle.textContent = gameData.title;
            detailGameImage.src = gameData.image;
            detailGameImage.alt = gameData.title + " Image";
            detailGameFullDesc.textContent = gameData.description;

            // Clear previous systems and add new ones
            detailGameSystems.innerHTML = '';
            gameData.systems.forEach(system => {
                const li = document.createElement('li');
                li.textContent = system;
                detailGameSystems.appendChild(li);
            });

            detailGameTimeline.textContent = gameData.timeline;

            // Store gameId in the detail view for language switching
            gameDetailView.dataset.gameId = gameId;

            // Show detail view and hide main content
            mainContent.classList.add('hidden');
            gameDetailView.classList.add('show');
            window.scrollTo(0, 0); // Scroll to top of the page
        }

        // Function to hide game details and show main content
        function hideGameDetails() {
            gameDetailView.classList.remove('show');
            mainContent.classList.remove('hidden');
            window.scrollTo(0, 0); // Scroll to top of the page
        }

        // --- Event Listeners and Initial Load ---

        // Theme Toggle Slider
        themeToggleSlider.addEventListener('click', (e) => {
            const targetTheme = htmlElement.classList.contains('light') ? 'dark' : 'light';
            setTheme(targetTheme, e); // Pass the event object to position the animation
        });

        // Language Selection
        languageButtons.forEach(button => {
            button.addEventListener('click', () => {
                const selectedLang = button.getAttribute('data-lang');
                localStorage.setItem('language', selectedLang);
                applyLanguage(selectedLang);
            });
        });

        // Smooth scrolling and active link highlighting for navigation links
        navLinks.forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                // Remove active class from all nav links
                navLinks.forEach(link => link.classList.remove('active-nav-link'));
                // Add active class to the clicked link
                this.classList.add('active-nav-link');

                // If currently in detail view, hide it first
                if (gameDetailView.classList.contains('show')) {
                    hideGameDetails();
                }
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // View Details buttons
        document.querySelectorAll('.view-details-btn').forEach(button => {
            button.addEventListener('click', function (e) {
                e.preventDefault();
                const gameId = this.getAttribute('data-game-id');
                showGameDetails(gameId);
            });
        });

        // Back to Portfolio button
        backToPortfolioBtn.addEventListener('click', hideGameDetails);

        // Initial Load Logic
        document.addEventListener('DOMContentLoaded', () => {
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme); // No event object needed for initial load, will center
            } else {
                setTheme('light'); // Default theme
            }

            // Check for saved language preference
            let initialLang = localStorage.getItem('language');

            // Validate saved language, default to 'en' if invalid or not found
            if (!initialLang || (initialLang !== 'en' && initialLang !== 'th')) {
                initialLang = 'en'; // Default to English if invalid or not set
                localStorage.setItem('language', initialLang); // Save the default
                languageModal.classList.add('show'); // Still show modal if no valid language was set
            }

            applyLanguage(initialLang); // Apply the determined language

            // Set initial active nav link based on URL hash or default to 'about'
            const initialHash = window.location.hash;
            if (initialHash) {
                document.querySelector(`.nav-links a[href="${initialHash}"]`)?.classList.add('active-nav-link');
            } else {
                document.querySelector('.nav-links a[href="#about"]')?.classList.add('active-nav-link');
            }
        });
    </script>
</body>
</html>
